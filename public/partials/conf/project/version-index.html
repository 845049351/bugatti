<div class="page-header clearfix">
    <button has-project-safe="{{$stateParams.id}}" ng-if="hasProjectSafe_" class="btn btn-primary pull-right" ui-sref="conf.project.version.create">新增</button>

    <h1 class="pull-left m0">
        项目
        <project-show pid="{{$stateParams.id}}"></project-show>
        的版本
        <sub><a class="small" href="" back-button>返回</a></sub>
    </h1>
</div>
<form class="form-inline">
    <div class="form-group">
        <input type="text" ng-model="s_name.vs" class="form-control" placeholder="版本号">
    </div>
</form>
<div class="table-responsive">
    <table class="table table-striped table-hover table-fixed" has-project-safe="{{$stateParams.id}}">
        <thead>
        <tr>
            <th width="10%">版本编号</th>
            <th width="40%">版本号</th>
            <th width="30%">版本时间</th>
            <th ng-show="hasProjectSafe_">操作</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="version in versions|filter:s_name">
            <td>{{version.id}}</td>
            <td>
                <a ui-sref="conf.project.version.conf.list({id: version.projectId, vid: version.id, eid: version.envId})">
                    <span tooltip="{{version.vs}}">{{version.vs}}</span>
                </a>
            </td>
            <td><span tooltip="{{version.updated | date:'yyyy-MM-dd HH:mm:ss'}}">{{version.updated | date:'yyyy-MM-dd HH:mm:ss'}}</span></td>
            <td ng-show="hasProjectSafe_">
                <a ui-sref="conf.project.version.edit({vid: version.id})" title="修改"><span class="glyphicon glyphicon-edit"></span></a>
                <a ng-click="delete(version.id, $index)" href="" title="删除"><span class="glyphicon glyphicon-remove"></span></a>
            </td>
        </tr>
        </tbody>
    </table>

    <ng-include src="'partials/page.html'"></ng-include>

</div>