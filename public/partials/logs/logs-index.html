<div class="container-fluid">
    <div class="page-header clearfix">
        <h1 class="pull-left m0">日志查看</h1>
    </div>

    <form class="navbar-form navbar-left" role="search" ng-submit="submit()">
        <div class="form-group">
            <input type="text" ng-model="logs.startTime" class="form-control" placeholder="开始时间 yyyy-MM-dd" pattern="^\d{4}-\d{2}-\d{2}$" required>
            -
            <input type="text" ng-model="logs.endTime" class="form-control" placeholder="结束时间 yyyy-MM-dd" pattern="^\d{4}-\d{2}-\d{2}$" required>
            &nbsp;&nbsp;
            <select class="form-control" ng-model="logs.mode" ng-options="o.val as o.key for o in modes" >
                <option value="">-- 所有模块 --</option>
            </select>
            &nbsp;&nbsp;
            <input ng-model="logs.jobNo" type="text" class="form-control" placeholder="用户工号，例如：of123">

        </div>
        <button type="submit" class="btn btn-default">搜索</button>
    </form>

    <div class="table-responsive">
        <table class="table table-striped table-hover table-fixed">
            <thead>
            <tr>
                <th width="15%">时间</th>
                <th width="10%">模块</th>
                <th width="10%">用户</th>
                <th width="10%">ip</th>
                <th width="10%">事件</th>
                <th>数据</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="d in data">
                <td>{{d.time | date:'yyyy-MM-dd HH:mm:ss'}}</td>
                <td>{{d.info | info2json: 'mod'}}</td>
                <td>{{d.info | info2json: 'user'}}</td>
                <td>{{d.info | info2json: 'ip'}}</td>
                <td>{{d.info | info2json: 'msg'}}</td>
                <td><span tooltip-placement="left" tooltip="{{d.info | info2json: 'data'}}">{{d.info | info2json: 'data'}}</span></td>
            </tr>
            </tbody>
            <tfoot>
            <tr><td colspan="6">&nbsp;</td></tr>
            </tfoot>
        </table>

        <ng-include src="'partials/page.html'"></ng-include>
    </div>
</div>