<div class="col-md-offset-0 main" style="padding-top: 10px;">

    <div class="tabs">
        <ul class="nav nav-tabs" ng-if="env">
            <li ng-class="{active: env.id === e.id}" ng-click="activeEnv(e)" ng-repeat="e in envs" ng-if="e['level'] === 'unsafe'">
                <a href="">{{e.name}}</a>
            </li>
            <li ng-class="{active: env.id === e.id}" ng-click="activeEnv(e)" ng-repeat="e in envs" ng-if="e['level'] === 'safe'">
                <a href=""><span class="label label-danger">{{e.name}}</span></a>
            </li>
        </ul>
    </div>

    <div ng-hide="model.hps" class="form-group pull-left col-xs-6 mt15" >
        <input type="text" ng-model="_search.name" focus-if="focus.is" class="form-control" placeholder="快速检索项目"/>
        <img ng-show="load.is" src="../../img/ajax-loader.gif" style="position: absolute;"/>
    </div>

    <div ng-class="{mt15:model.hps}" class="clearfix"></div>

    <div class="row" resizable ignore-height="190" >
        <div ng-hide="model.hps" ng-if="projects" class="col-xs-2" scroll banner-height style="overflow-x: hidden; overflow-y: auto;">

            <ul class="nav nav-pills nav-stacked" ng-if="env" bindonce ng-repeat="project in projects | filter:_search">
                <li ng-class="{active: $state.params.pid == project.id}">
                    <a class="btn-link" ui-sref="task.list.info({eid: env.id, pid: project.id, top: top, txt: _search.name})" bo-bind="project.name"></a>
                </li>
            </ul>
        </div>
        <div ng-class="!model.hps?'col-xs-10':'col-xs-12'" style="height: 100%; min-height: 100%; overflow-x: hidden; overflow-y: auto;"  ng-if="env">
            <div ui-view="task-info"></div>
        </div>
    </div>

</div>
