<div class="page-header clearfix">
    <h1 class="pull-left m0">系统设置</h1>
</div>

<form name="form" class="form-horizontal" novalidate>
    <div class="form-group">
        <div class="col-sm-3">
            <div class="checkbox">
                <label for="ldap">
                    <input type="checkbox" name="ldap" id="ldap" ng-model="ldapAuthentication">LDAP</input>
                </label>
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="host" class="col-sm-3 control-label fwn">LDAP Host</label>
        <div class="col-sm-5">
            <input ng-disabled="!ldapAuthentication" ng-model="ldap.host" type="text" class="form-control" name="host" id="host" placeholder="127.0.0.1" required>
        </div>
        <div class="col-sm-4" ng-show="ldapAuthentication && form.host.$invalid" >
            <label ng-show="form.host.$error.required" class="control-label red fwn">LDAP host is required.</label>
        </div>
    </div>
    <div class="form-group">
        <label for="port" ng-model="ldap.port" class="col-sm-3 control-label fwn">LDAP Port</label>
        <div class="col-sm-2">
            <input ng-disabled="!ldapAuthentication" type="text" class="form-control" id="port" placeholder="389">
        </div>
    </div>
    <div class="form-group">
        <label for="bindDN" class="col-sm-3 control-label fwn">Bind DN</label>
        <div class="col-sm-5">
            <input ng-disabled="!ldapAuthentication" ng-model="ldap.bindDN" type="text" class="form-control" id="bindDN" placeholder="DN">
        </div>
    </div>
    <div class="form-group">
        <label for="bindPassword" class="col-sm-3 control-label fwn">Bind Password</label>
        <div class="col-sm-5">
            <input ng-disabled="!ldapAuthentication" ng-model="ldap.bindPassword" type="password" class="form-control" id="bindPassword" >
        </div>
    </div>
    <div class="form-group">
        <label for="baseDN" class="col-sm-3 control-label fwn">Base DN</label>
        <div class="col-sm-5">
            <input ng-disabled="!ldapAuthentication" ng-model="ldap.baseDN" type="text" class="form-control" name="baseDN" id="baseDN" placeholder="BaseDn" required>
        </div>
        <div class="col-sm-4" ng-show="ldapAuthentication && form.baseDN.$invalid" >
            <label ng-show="form.baseDN.$error.required" class="control-label red fwn">Base DN is required.</label>
        </div>
    </div>
    <div class="form-group">
        <label for="userNameAttribute" class="col-sm-3 control-label fwn">User name attribute</label>
        <div class="col-sm-5">
            <input ng-disabled="!ldapAuthentication" ng-model="ldap.userNameAttribute" type="text" class="form-control" name="userNameAttribute" id="userNameAttribute" placeholder="" required>
        </div>
        <div class="col-sm-4" ng-show="ldapAuthentication && form.userNameAttribute.$invalid" >
            <label ng-show="form.userNameAttribute.$error.required" class="control-label red fwn">User name attribute is required.</label>
        </div>
    </div>
    <div class="form-group">
        <label for="additionalFilterCondition" class="col-sm-3 control-label fwn">Additional filter condition</label>
        <div class="col-sm-5">
            <input ng-disabled="!ldapAuthentication" ng-model="ldap.additionalFilterCondition" type="text" class="form-control" id="additionalFilterCondition" placeholder="">
        </div>
    </div>
    <div class="form-group">
        <label for="fullNameAttribute" class="col-sm-3 control-label fwn">Full name attribute</label>
        <div class="col-sm-5">
            <input ng-disabled="!ldapAuthentication" ng-model="ldap.fullNameAttribute" type="text" class="form-control" id="fullNameAttribute" placeholder="">
        </div>
    </div>
    <div class="form-group">
        <label for="mailAttribute" class="col-sm-3 control-label fwn">Mail address attribute</label>
        <div class="col-sm-5">
            <input ng-disabled="!ldapAuthentication" ng-model="ldap.mailAttribute" type="text" class="form-control" id="mailAttribute" placeholder="">
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-offset-3 col-sm-5">
            <div class="checkbox">
                <label>
                    <input ng-disabled="!ldapAuthentication" ng-model="ldap.tls" type="checkbox"> Enable TLS
                </label>
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="keystore" class="col-sm-3 control-label fwn">Keystore</label>
        <div class="col-sm-5">
            <input ng-disabled="!ldapAuthentication" ng-model="ldap.keystore" type="text" class="form-control" id="keystore" placeholder="">
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-offset-3 col-sm-5">
            <button ng-disabled="!ldapAuthentication || form.$invalid" ng-click="applyChange(ldap)" class="btn btn-primary"> 应用修改 </button>
        </div>
    </div>
</form>